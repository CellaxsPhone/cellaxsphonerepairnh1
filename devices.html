const brand = document.getElementById("brand");
const model = document.getElementById("model");
const issue = document.getElementById("issue");
const contact = document.getElementById("contact");

function range(start, end) {
  return Array.from({ length: end - start + 1 }, (_, i) => start + i);
}

const deviceModels = {
  iphone: () => {
    let list = [];
    range(6, 17).forEach(n => {
      if (n <= 8) {
        list.push(`iPhone ${n}`, `iPhone ${n} Plus`);
      } else {
        list.push(`iPhone ${n}`);
        if (n >= 11) list.push(`iPhone ${n} Pro`, `iPhone ${n} Pro Max`);
        if (n === 12 || n === 13) list.push(`iPhone ${n} Mini`);
      }
    });
    return list;
  },

  samsung: () => {
    let list = [];
    range(8, 25).forEach(n => {
      list.push(`Galaxy S${n}`);
      if (n >= 10) list.push(`Galaxy S${n}+`);
      if (n >= 20) list.push(`Galaxy S${n} Ultra`);
      if (n >= 21) list.push(`Galaxy S${n} FE`);
    });
    range(1, 55).forEach(n => {
      list.push(`Galaxy A${n}`, `Galaxy A${n} 5G`);
    });
    return list;
  },

  pixel: () => [
    "Pixel 5", "Pixel 5a",
    "Pixel 6", "Pixel 6a", "Pixel 6 Pro",
    "Pixel 7", "Pixel 7a", "Pixel 7 Pro",
    "Pixel 8", "Pixel 8 Pro",
    "Pixel 9", "Pixel 9 Pro"
  ],

  motorola: () => [
    "Moto G", "Moto G Power", "Moto G Stylus",
    "Moto E", "Moto Edge", "Moto Edge+",
    "Motorola Razr", "Razr 5G", "Razr 40", "Razr 50"
  ]
};

brand.addEventListener("change", () => {
  model.innerHTML = "<option>Select Model</option>";
  model.disabled = false;
  issue.disabled = true;
  contact.classList.add("hidden");

  deviceModels[brand.value]().forEach(m => {
    model.innerHTML += `<option>${m}</option>`;
  });
});

model.addEventListener("change", () => {
  issue.disabled = false;
});

issue.addEventListener("change", () => {
  contact.classList.remove("hidden");
});
